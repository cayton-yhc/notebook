### 错因总结：未补齐字符串终止符 `\0`

在 C 语言中，字符串必须以 `\0` 结尾。若没有正确补齐终止符，后续使用 `strcmp`、`printf("%s")` 等函数时会访问到未定义的内存，导致逻辑错误或随机输出。

---

#### 什么时候需要注意终止符
1. **需要 `\0` 的场景**
   - 当你要把数据当作“字符串”处理时（例如传给 `strcmp`、`strcat`、`printf("%s")` 等函数），必须保证缓冲区有 `\0`。
   - 使用 `strncpy` 并且拷贝的长度等于或小于源字符串长度时，必须手动补 `\0`。
   - 自己写循环复制字符时，需要手动在末尾写上 `\0`。

2. **不需要 `\0` 的场景**
   - 当你只把字符数组当作“内存块”操作时（例如 `memcpy`、`memcmp`、`read`/`write` 二进制数据），不要求末尾有 `\0`。
   - 仅依靠长度参数处理的函数（如 `fwrite(buf, 1, len, fp)`），无需 `\0`。

---

#### 易错点
1. 很多人以为 `strncpy` 总是会自动加 `\0`，其实只有在 **源串长度小于拷贝数** 的情况下才会补齐。
2. 拷贝子串时若忘记加 `\0`，结果字符串不是合法 C 字符串，后续函数调用全都不可靠。

---

#### 错误示例
```c
strncpy(cmp, p, num);        // 复制 num 个字符
// cmp[num] 未手动置 '\0'，导致 cmp 不是合法字符串

strncpy(tmp, p + i * num, num);
// tmp[num] 同样没有补 '\0'
